---
title: "IPIP-0379: Delegated IPNS HTTP API"
date: 2023-02-13
ipip: proposal
editors:
  - name: Masih H. Derkani
    github: masih
  - name: Marcin Rataj
    github: lidel
    url: https://lidel.org/
relatedIssues:
  - https://github.com/ipfs/specs/issues/343
  - https://github.com/ipfs/specs/pull/337
  - https://github.com/ipfs/specs/pull/377
xref:
  - ipns-record
order: 379
tags: ['ipips']
---

## Summary

This IPIP specifies a set of HTTP APIs to offload naming system onto another process or server.

## Motivation

Expanding on the motivations of :cite[ipip-0337], the work here concentrates on delegation of _naming system_ over HTTP APIs. Naming is part of the core IPFS DHT functionality.
The performance of naming system over the IPFS DHT can suffer from long delays due to churn of records and quorum requirements.

## Detailed design

See :cite[http-routing-v1] specification.

## Design rationale

The rationale for delegated IPNS over HTTP APIs closely follows the reasoning listed in :cite[ipip-0337].

The document proposes the following:
- Use of HTTP semantics for publication and resolution of naming records.
- Use of existing :ref[IPNS Record] serialization format through `Content-Type: application/vnd.ipfs.ipns-record`.
- Streaming interaction is not supported.

### User benefit

The ability of offload naming onto another process or server via an idiomatic and simple HTTP API opens up an opportunity to not only reduce the burden of naming system management, but also introduce alternative naming systems across other routing systems, namely IPNI.

### Compatibility

See "Compatibility" section of :cite[ipip-0337].

#### Serialization Format

:cite[ipns-record] uses `application/vnd.ipfs.ipns-record` protobuf serialization format.
This format is widely in use in IPNS over PubSub and DHT routing systems.
One of the motivations of this document is to introduce simple to use HTTP APIs and ultimately reduce barrier for interaction across alternative systems.
Further, interoperability across the existing and HTTP APIs is also desirable in order to reduce the barrier for adoption of the delegated HTTP APIs.

To maximize interoperability with existing ecosystem, the canonical IPNS record serialization format :cite[ipns-record] (`0x0300`) can be requested with content type `application/vnd.ipfs.ipns-record`.

### Security

All interaction over the APIs should use TLS to protect against third-party observation and tampering.
Additionally, the IPNS records must be validated according to the rules stated in :cite[ipns-record] before further processing.

To avoid Denial of Service attack, maximum IPNS record size defined in :cite[ipns-record] applies.

Privacy in delegated IPNS is out of scope for this work.

### Alternatives

See:

- [Libp2p-based IPNS](https://github.com/ipfs/go-ipns).
- Reframe; it was deprecated and now removed. Historical reasons can be found in :cite[ipip-0337].

### Copyright

Copyright and related rights waived via [CC0](https://creativecommons.org/publicdomain/zero/1.0/).
